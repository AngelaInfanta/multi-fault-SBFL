diff --git a/defects4j.build.properties b/defects4j.build.properties
index e973571..4fd877b 100644
--- a/defects4j.build.properties
+++ b/defects4j.build.properties
@@ -1,5 +1,6 @@
 #File automatically generated by Defects4J
 d4j.bug.id=34
+d4j.classes.instrument=com/google/javascript/jscomp/AbstractCompiler.class,com/google/javascript/jscomp/AbstractCompiler\$*.class,com/google/javascript/jscomp/AbstractMessageFormatter.class,com/google/javascript/jscomp/AbstractMessageFormatter\$*.class,com/google/javascript/jscomp/AnonymousFunctionNamingPolicy.class,com/google/javascript/jscomp/AnonymousFunctionNamingPolicy\$*.class,com/google/javascript/jscomp/AstValidator.class,com/google/javascript/jscomp/AstValidator\$*.class,com/google/javascript/jscomp/BasicErrorManager.class,com/google/javascript/jscomp/BasicErrorManager\$*.class,com/google/javascript/jscomp/CheckAccessControls.class,com/google/javascript/jscomp/CheckAccessControls\$*.class,com/google/javascript/jscomp/CheckDebuggerStatement.class,com/google/javascript/jscomp/CheckDebuggerStatement\$*.class,com/google/javascript/jscomp/CheckGlobalNames.class,com/google/javascript/jscomp/CheckGlobalNames\$*.class,com/google/javascript/jscomp/CheckGlobalThis.class,com/google/javascript/jscomp/CheckGlobalThis\$*.class,com/google/javascript/jscomp/CheckLevel.class,com/google/javascript/jscomp/CheckLevel\$*.class,com/google/javascript/jscomp/CheckProvides.class,com/google/javascript/jscomp/CheckProvides\$*.class,com/google/javascript/jscomp/CheckRegExp.class,com/google/javascript/jscomp/CheckRegExp\$*.class,com/google/javascript/jscomp/CheckSideEffects.class,com/google/javascript/jscomp/CheckSideEffects\$*.class,com/google/javascript/jscomp/CheckUnreachableCode.class,com/google/javascript/jscomp/CheckUnreachableCode\$*.class,com/google/javascript/jscomp/CleanupPasses.class,com/google/javascript/jscomp/CleanupPasses\$*.class,com/google/javascript/jscomp/ClosureCodingConvention.class,com/google/javascript/jscomp/ClosureCodingConvention\$*.class,com/google/javascript/jscomp/CodeChangeHandler.class,com/google/javascript/jscomp/CodeChangeHandler\$*.class,com/google/javascript/jscomp/CodeConsumer.class,com/google/javascript/jscomp/CodeConsumer\$*.class,com/google/javascript/jscomp/CodeGenerator.class,com/google/javascript/jscomp/CodeGenerator\$*.class,com/google/javascript/jscomp/CodePrinter.class,com/google/javascript/jscomp/CodePrinter\$*.class,com/google/javascript/jscomp/CodingConvention.class,com/google/javascript/jscomp/CodingConvention\$*.class,com/google/javascript/jscomp/CodingConventions.class,com/google/javascript/jscomp/CodingConventions\$*.class,com/google/javascript/jscomp/Compiler.class,com/google/javascript/jscomp/Compiler\$*.class,com/google/javascript/jscomp/CompilerInput.class,com/google/javascript/jscomp/CompilerInput\$*.class,com/google/javascript/jscomp/CompilerOptions.class,com/google/javascript/jscomp/CompilerOptions\$*.class,com/google/javascript/jscomp/CompilerPass.class,com/google/javascript/jscomp/CompilerPass\$*.class,com/google/javascript/jscomp/ComposeWarningsGuard.class,com/google/javascript/jscomp/ComposeWarningsGuard\$*.class,com/google/javascript/jscomp/ConstCheck.class,com/google/javascript/jscomp/ConstCheck\$*.class,com/google/javascript/jscomp/ControlFlowGraph.class,com/google/javascript/jscomp/ControlFlowGraph\$*.class,com/google/javascript/jscomp/ControlStructureCheck.class,com/google/javascript/jscomp/ControlStructureCheck\$*.class,com/google/javascript/jscomp/DefaultPassConfig.class,com/google/javascript/jscomp/DefaultPassConfig\$*.class,com/google/javascript/jscomp/DefinitionProvider.class,com/google/javascript/jscomp/DefinitionProvider\$*.class,com/google/javascript/jscomp/DefinitionSite.class,com/google/javascript/jscomp/DefinitionSite\$*.class,com/google/javascript/jscomp/DefinitionsRemover.class,com/google/javascript/jscomp/DefinitionsRemover\$*.class,com/google/javascript/jscomp/DependencyOptions.class,com/google/javascript/jscomp/DependencyOptions\$*.class,com/google/javascript/jscomp/DiagnosticGroup.class,com/google/javascript/jscomp/DiagnosticGroup\$*.class,com/google/javascript/jscomp/DiagnosticGroupWarningsGuard.class,com/google/javascript/jscomp/DiagnosticGroupWarningsGuard\$*.class,com/google/javascript/jscomp/DiagnosticGroups.class,com/google/javascript/jscomp/DiagnosticGroups\$*.class,com/google/javascript/jscomp/DiagnosticType.class,com/google/javascript/jscomp/DiagnosticType\$*.class,com/google/javascript/jscomp/DisambiguateProperties.class,com/google/javascript/jscomp/DisambiguateProperties\$*.class,com/google/javascript/jscomp/ErrorFormat.class,com/google/javascript/jscomp/ErrorFormat\$*.class,com/google/javascript/jscomp/ErrorHandler.class,com/google/javascript/jscomp/ErrorHandler\$*.class,com/google/javascript/jscomp/ErrorManager.class,com/google/javascript/jscomp/ErrorManager\$*.class,com/google/javascript/jscomp/ExpressionDecomposer.class,com/google/javascript/jscomp/ExpressionDecomposer\$*.class,com/google/javascript/jscomp/FunctionArgumentInjector.class,com/google/javascript/jscomp/FunctionArgumentInjector\$*.class,com/google/javascript/jscomp/FunctionInjector.class,com/google/javascript/jscomp/FunctionInjector\$*.class,com/google/javascript/jscomp/FunctionTypeBuilder.class,com/google/javascript/jscomp/FunctionTypeBuilder\$*.class,com/google/javascript/jscomp/GoogleCodingConvention.class,com/google/javascript/jscomp/GoogleCodingConvention\$*.class,com/google/javascript/jscomp/HotSwapCompilerPass.class,com/google/javascript/jscomp/HotSwapCompilerPass\$*.class,com/google/javascript/jscomp/InlineCostEstimator.class,com/google/javascript/jscomp/InlineCostEstimator\$*.class,com/google/javascript/jscomp/InlineFunctions.class,com/google/javascript/jscomp/InlineFunctions\$*.class,com/google/javascript/jscomp/JSError.class,com/google/javascript/jscomp/JSError\$*.class,com/google/javascript/jscomp/JSModule.class,com/google/javascript/jscomp/JSModule\$*.class,com/google/javascript/jscomp/JSModuleGraph.class,com/google/javascript/jscomp/JSModuleGraph\$*.class,com/google/javascript/jscomp/JsAst.class,com/google/javascript/jscomp/JsAst\$*.class,com/google/javascript/jscomp/JsMessageVisitor.class,com/google/javascript/jscomp/JsMessageVisitor\$*.class,com/google/javascript/jscomp/LightweightMessageFormatter.class,com/google/javascript/jscomp/LightweightMessageFormatter\$*.class,com/google/javascript/jscomp/LineNumberCheck.class,com/google/javascript/jscomp/LineNumberCheck\$*.class,com/google/javascript/jscomp/LoggerErrorManager.class,com/google/javascript/jscomp/LoggerErrorManager\$*.class,com/google/javascript/jscomp/MakeDeclaredNamesUnique.class,com/google/javascript/jscomp/MakeDeclaredNamesUnique\$*.class,com/google/javascript/jscomp/MarkNoSideEffectCalls.class,com/google/javascript/jscomp/MarkNoSideEffectCalls\$*.class,com/google/javascript/jscomp/MessageFormatter.class,com/google/javascript/jscomp/MessageFormatter\$*.class,com/google/javascript/jscomp/NodeTraversal.class,com/google/javascript/jscomp/NodeTraversal\$*.class,com/google/javascript/jscomp/NodeUtil.class,com/google/javascript/jscomp/NodeUtil\$*.class,com/google/javascript/jscomp/Normalize.class,com/google/javascript/jscomp/Normalize\$*.class,com/google/javascript/jscomp/PassConfig.class,com/google/javascript/jscomp/PassConfig\$*.class,com/google/javascript/jscomp/PassFactory.class,com/google/javascript/jscomp/PassFactory\$*.class,com/google/javascript/jscomp/PrepareAst.class,com/google/javascript/jscomp/PrepareAst\$*.class,com/google/javascript/jscomp/ProcessCommonJSModules.class,com/google/javascript/jscomp/ProcessCommonJSModules\$*.class,com/google/javascript/jscomp/ProcessDefines.class,com/google/javascript/jscomp/ProcessDefines\$*.class,com/google/javascript/jscomp/ProcessTweaks.class,com/google/javascript/jscomp/ProcessTweaks\$*.class,com/google/javascript/jscomp/PropertyRenamingPolicy.class,com/google/javascript/jscomp/PropertyRenamingPolicy\$*.class,com/google/javascript/jscomp/ReferenceCollectingCallback.class,com/google/javascript/jscomp/ReferenceCollectingCallback\$*.class,com/google/javascript/jscomp/Region.class,com/google/javascript/jscomp/Region\$*.class,com/google/javascript/jscomp/RhinoErrorReporter.class,com/google/javascript/jscomp/RhinoErrorReporter\$*.class,com/google/javascript/jscomp/Scope.class,com/google/javascript/jscomp/Scope\$*.class,com/google/javascript/jscomp/ScopeCreator.class,com/google/javascript/jscomp/ScopeCreator\$*.class,com/google/javascript/jscomp/SimpleDefinitionFinder.class,com/google/javascript/jscomp/SimpleDefinitionFinder\$*.class,com/google/javascript/jscomp/SourceAst.class,com/google/javascript/jscomp/SourceAst\$*.class,com/google/javascript/jscomp/SourceExcerptProvider.class,com/google/javascript/jscomp/SourceExcerptProvider\$*.class,com/google/javascript/jscomp/SourceFile.class,com/google/javascript/jscomp/SourceFile\$*.class,com/google/javascript/jscomp/SourceMap.class,com/google/javascript/jscomp/SourceMap\$*.class,com/google/javascript/jscomp/SpecializationAwareCompilerPass.class,com/google/javascript/jscomp/SpecializationAwareCompilerPass\$*.class,com/google/javascript/jscomp/StrictModeCheck.class,com/google/javascript/jscomp/StrictModeCheck\$*.class,com/google/javascript/jscomp/SuppressDocWarningsGuard.class,com/google/javascript/jscomp/SuppressDocWarningsGuard\$*.class,com/google/javascript/jscomp/SyntacticScopeCreator.class,com/google/javascript/jscomp/SyntacticScopeCreator\$*.class,com/google/javascript/jscomp/Tracer.class,com/google/javascript/jscomp/Tracer\$*.class,com/google/javascript/jscomp/TypeCheck.class,com/google/javascript/jscomp/TypeCheck\$*.class,com/google/javascript/jscomp/TypeValidator.class,com/google/javascript/jscomp/TypeValidator\$*.class,com/google/javascript/jscomp/TypedCodeGenerator.class,com/google/javascript/jscomp/TypedCodeGenerator\$*.class,com/google/javascript/jscomp/TypedScopeCreator.class,com/google/javascript/jscomp/TypedScopeCreator\$*.class,com/google/javascript/jscomp/UseSite.class,com/google/javascript/jscomp/UseSite\$*.class,com/google/javascript/jscomp/VarCheck.class,com/google/javascript/jscomp/VarCheck\$*.class,com/google/javascript/jscomp/VariableReferenceCheck.class,com/google/javascript/jscomp/VariableReferenceCheck\$*.class,com/google/javascript/jscomp/VariableRenamingPolicy.class,com/google/javascript/jscomp/VariableRenamingPolicy\$*.class,com/google/javascript/jscomp/WarningsGuard.class,com/google/javascript/jscomp/WarningsGuard\$*.class,com/google/javascript/jscomp/deps/DependencyInfo.class,com/google/javascript/jscomp/deps/DependencyInfo\$*.class,com/google/javascript/jscomp/deps/SortedDependencies.class,com/google/javascript/jscomp/deps/SortedDependencies\$*.class,com/google/javascript/jscomp/graph/AdjacencyGraph.class,com/google/javascript/jscomp/graph/AdjacencyGraph\$*.class,com/google/javascript/jscomp/graph/DiGraph.class,com/google/javascript/jscomp/graph/DiGraph\$*.class,com/google/javascript/jscomp/graph/Graph.class,com/google/javascript/jscomp/graph/Graph\$*.class,com/google/javascript/jscomp/graph/GraphvizGraph.class,com/google/javascript/jscomp/graph/GraphvizGraph\$*.class,com/google/javascript/jscomp/graph/LinkedDirectedGraph.class,com/google/javascript/jscomp/graph/LinkedDirectedGraph\$*.class,com/google/javascript/jscomp/parsing/Annotation.class,com/google/javascript/jscomp/parsing/Annotation\$*.class,com/google/javascript/jscomp/parsing/Config.class,com/google/javascript/jscomp/parsing/Config\$*.class,com/google/javascript/jscomp/parsing/IRFactory.class,com/google/javascript/jscomp/parsing/IRFactory\$*.class,com/google/javascript/jscomp/parsing/ParserRunner.class,com/google/javascript/jscomp/parsing/ParserRunner\$*.class,com/google/javascript/jscomp/parsing/TypeSafeDispatcher.class,com/google/javascript/jscomp/parsing/TypeSafeDispatcher\$*.class,com/google/javascript/jscomp/type/ChainableReverseAbstractInterpreter.class,com/google/javascript/jscomp/type/ChainableReverseAbstractInterpreter\$*.class,com/google/javascript/jscomp/type/ReverseAbstractInterpreter.class,com/google/javascript/jscomp/type/ReverseAbstractInterpreter\$*.class,com/google/javascript/jscomp/type/SemanticReverseAbstractInterpreter.class,com/google/javascript/jscomp/type/SemanticReverseAbstractInterpreter\$*.class,com/google/javascript/rhino/ErrorReporter.class,com/google/javascript/rhino/ErrorReporter\$*.class,com/google/javascript/rhino/IR.class,com/google/javascript/rhino/IR\$*.class,com/google/javascript/rhino/InputId.class,com/google/javascript/rhino/InputId\$*.class,com/google/javascript/rhino/Node.class,com/google/javascript/rhino/Node\$*.class,com/google/javascript/rhino/ScriptRuntime.class,com/google/javascript/rhino/ScriptRuntime\$*.class,com/google/javascript/rhino/jstype/AllType.class,com/google/javascript/rhino/jstype/AllType\$*.class,com/google/javascript/rhino/jstype/ArrowType.class,com/google/javascript/rhino/jstype/ArrowType\$*.class,com/google/javascript/rhino/jstype/BooleanType.class,com/google/javascript/rhino/jstype/BooleanType\$*.class,com/google/javascript/rhino/jstype/ErrorFunctionType.class,com/google/javascript/rhino/jstype/ErrorFunctionType\$*.class,com/google/javascript/rhino/jstype/FunctionBuilder.class,com/google/javascript/rhino/jstype/FunctionBuilder\$*.class,com/google/javascript/rhino/jstype/FunctionParamBuilder.class,com/google/javascript/rhino/jstype/FunctionParamBuilder\$*.class,com/google/javascript/rhino/jstype/FunctionType.class,com/google/javascript/rhino/jstype/FunctionType\$*.class,com/google/javascript/rhino/jstype/IndexedType.class,com/google/javascript/rhino/jstype/IndexedType\$*.class,com/google/javascript/rhino/jstype/InstanceObjectType.class,com/google/javascript/rhino/jstype/InstanceObjectType\$*.class,com/google/javascript/rhino/jstype/JSType.class,com/google/javascript/rhino/jstype/JSType\$*.class,com/google/javascript/rhino/jstype/JSTypeNative.class,com/google/javascript/rhino/jstype/JSTypeNative\$*.class,com/google/javascript/rhino/jstype/JSTypeRegistry.class,com/google/javascript/rhino/jstype/JSTypeRegistry\$*.class,com/google/javascript/rhino/jstype/NamedType.class,com/google/javascript/rhino/jstype/NamedType\$*.class,com/google/javascript/rhino/jstype/NoObjectType.class,com/google/javascript/rhino/jstype/NoObjectType\$*.class,com/google/javascript/rhino/jstype/NoResolvedType.class,com/google/javascript/rhino/jstype/NoResolvedType\$*.class,com/google/javascript/rhino/jstype/NoType.class,com/google/javascript/rhino/jstype/NoType\$*.class,com/google/javascript/rhino/jstype/NullType.class,com/google/javascript/rhino/jstype/NullType\$*.class,com/google/javascript/rhino/jstype/NumberType.class,com/google/javascript/rhino/jstype/NumberType\$*.class,com/google/javascript/rhino/jstype/ObjectType.class,com/google/javascript/rhino/jstype/ObjectType\$*.class,com/google/javascript/rhino/jstype/ParameterizedType.class,com/google/javascript/rhino/jstype/ParameterizedType\$*.class,com/google/javascript/rhino/jstype/PrototypeObjectType.class,com/google/javascript/rhino/jstype/PrototypeObjectType\$*.class,com/google/javascript/rhino/jstype/ProxyObjectType.class,com/google/javascript/rhino/jstype/ProxyObjectType\$*.class,com/google/javascript/rhino/jstype/StaticReference.class,com/google/javascript/rhino/jstype/StaticReference\$*.class,com/google/javascript/rhino/jstype/StaticScope.class,com/google/javascript/rhino/jstype/StaticScope\$*.class,com/google/javascript/rhino/jstype/StaticSlot.class,com/google/javascript/rhino/jstype/StaticSlot\$*.class,com/google/javascript/rhino/jstype/StaticSourceFile.class,com/google/javascript/rhino/jstype/StaticSourceFile\$*.class,com/google/javascript/rhino/jstype/StaticSymbolTable.class,com/google/javascript/rhino/jstype/StaticSymbolTable\$*.class,com/google/javascript/rhino/jstype/StringType.class,com/google/javascript/rhino/jstype/StringType\$*.class,com/google/javascript/rhino/jstype/TemplateType.class,com/google/javascript/rhino/jstype/TemplateType\$*.class,com/google/javascript/rhino/jstype/UnionType.class,com/google/javascript/rhino/jstype/UnionType\$*.class,com/google/javascript/rhino/jstype/UnionTypeBuilder.class,com/google/javascript/rhino/jstype/UnionTypeBuilder\$*.class,com/google/javascript/rhino/jstype/UnknownType.class,com/google/javascript/rhino/jstype/UnknownType\$*.class,com/google/javascript/rhino/jstype/UnresolvedTypeExpression.class,com/google/javascript/rhino/jstype/UnresolvedTypeExpression\$*.class,com/google/javascript/rhino/jstype/ValueType.class,com/google/javascript/rhino/jstype/ValueType\$*.class,com/google/javascript/rhino/jstype/VoidType.class,com/google/javascript/rhino/jstype/VoidType\$*.class,com/google/javascript/rhino/testing/BaseJSTypeTestCase.class,com/google/javascript/rhino/testing/BaseJSTypeTestCase\$*.class
 d4j.classes.modified=com.google.javascript.jscomp.CodeGenerator,com.google.javascript.jscomp.CodePrinter
 d4j.classes.relevant=com.google.javascript.jscomp.AbstractCompiler,com.google.javascript.jscomp.CodeConsumer,com.google.javascript.jscomp.CodeGenerator,com.google.javascript.jscomp.CodePrinter,com.google.javascript.jscomp.Compiler,com.google.javascript.jscomp.NodeUtil,com.google.javascript.jscomp.SourceExcerptProvider,com.google.javascript.jscomp.SourceMap,com.google.javascript.jscomp.TypedCodeGenerator,com.google.javascript.rhino.Node
 d4j.dir.src.classes=src
diff --git a/test/com/google/javascript/jscomp/InlineCostEstimatorTest.java b/test/com/google/javascript/jscomp/InlineCostEstimatorTest.java
index 5524e6e..5756732 100644
--- a/test/com/google/javascript/jscomp/InlineCostEstimatorTest.java
+++ b/test/com/google/javascript/jscomp/InlineCostEstimatorTest.java
@@ -46,11 +46,13 @@ public class InlineCostEstimatorTest extends TestCase {
 
   public void testCost() {
     checkCost("1", "1");
+    checkCost("true", "1");
+    checkCost("false", "1");
     checkCost("a", "xx");
     checkCost("a + b", "xx+xx");
     checkCost("foo()", "xx()");
     checkCost("foo(a,b)", "xx(xx,xx)");
-    checkCost("10 + foo(a,b)", "10+xx(xx,xx)");
+    checkCost("10 + foo(a,b)", "0+xx(xx,xx)");
     checkCost("1 + foo(a,b)", "1+xx(xx,xx)");
     checkCost("a ? 1 : 0", "xx?1:0");
     checkCost("a.b", "xx.xx");
diff --git a/test/com/google/javascript/jscomp/InlineFunctionsTest.java b/test/com/google/javascript/jscomp/InlineFunctionsTest.java
index 1515f97..5695b92 100644
--- a/test/com/google/javascript/jscomp/InlineFunctionsTest.java
+++ b/test/com/google/javascript/jscomp/InlineFunctionsTest.java
@@ -2331,5 +2331,16 @@ public class InlineFunctionsTest extends CompilerTestCase {
             }
          );
   }
+  public void testIssue728() {
+    String f = "var f = function() { return false; };";
+    StringBuilder calls = new StringBuilder();
+    StringBuilder folded = new StringBuilder();
+    for (int i = 0; i < 30; i++) {
+      calls.append("if (!f()) alert('x');");
+      folded.append("if (!false) alert('x');");
+    }
+
+    test(f + calls, folded.toString());
+  }
 
 }
