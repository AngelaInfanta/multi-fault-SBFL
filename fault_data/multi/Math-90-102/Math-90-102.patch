diff --git a/defects4j.build.properties b/defects4j.build.properties
index 6614313..a0707bc 100644
--- a/defects4j.build.properties
+++ b/defects4j.build.properties
@@ -1,5 +1,6 @@
 #File automatically generated by Defects4J
 d4j.bug.id=102
+d4j.classes.instrument=org/apache/commons/math/ConvergenceException.class,org/apache/commons/math/ConvergenceException\$*.class,org/apache/commons/math/MathException.class,org/apache/commons/math/MathException\$*.class,org/apache/commons/math/MaxIterationsExceededException.class,org/apache/commons/math/MaxIterationsExceededException\$*.class,org/apache/commons/math/analysis/UnivariateRealFunction.class,org/apache/commons/math/analysis/UnivariateRealFunction\$*.class,org/apache/commons/math/distribution/AbstractContinuousDistribution.class,org/apache/commons/math/distribution/AbstractContinuousDistribution\$*.class,org/apache/commons/math/distribution/AbstractDistribution.class,org/apache/commons/math/distribution/AbstractDistribution\$*.class,org/apache/commons/math/distribution/ChiSquaredDistribution.class,org/apache/commons/math/distribution/ChiSquaredDistribution\$*.class,org/apache/commons/math/distribution/ChiSquaredDistributionImpl.class,org/apache/commons/math/distribution/ChiSquaredDistributionImpl\$*.class,org/apache/commons/math/distribution/ContinuousDistribution.class,org/apache/commons/math/distribution/ContinuousDistribution\$*.class,org/apache/commons/math/distribution/Distribution.class,org/apache/commons/math/distribution/Distribution\$*.class,org/apache/commons/math/distribution/GammaDistribution.class,org/apache/commons/math/distribution/GammaDistribution\$*.class,org/apache/commons/math/distribution/GammaDistributionImpl.class,org/apache/commons/math/distribution/GammaDistributionImpl\$*.class,org/apache/commons/math/distribution/TDistribution.class,org/apache/commons/math/distribution/TDistribution\$*.class,org/apache/commons/math/distribution/TDistributionImpl.class,org/apache/commons/math/distribution/TDistributionImpl\$*.class,org/apache/commons/math/special/Gamma.class,org/apache/commons/math/special/Gamma\$*.class,org/apache/commons/math/stat/Frequency.class,org/apache/commons/math/stat/Frequency\$*.class,org/apache/commons/math/stat/descriptive/AbstractStorelessUnivariateStatistic.class,org/apache/commons/math/stat/descriptive/AbstractStorelessUnivariateStatistic\$*.class,org/apache/commons/math/stat/descriptive/AbstractUnivariateStatistic.class,org/apache/commons/math/stat/descriptive/AbstractUnivariateStatistic\$*.class,org/apache/commons/math/stat/descriptive/StatisticalSummary.class,org/apache/commons/math/stat/descriptive/StatisticalSummary\$*.class,org/apache/commons/math/stat/descriptive/StorelessUnivariateStatistic.class,org/apache/commons/math/stat/descriptive/StorelessUnivariateStatistic\$*.class,org/apache/commons/math/stat/descriptive/SummaryStatistics.class,org/apache/commons/math/stat/descriptive/SummaryStatistics\$*.class,org/apache/commons/math/stat/descriptive/SummaryStatisticsImpl.class,org/apache/commons/math/stat/descriptive/SummaryStatisticsImpl\$*.class,org/apache/commons/math/stat/descriptive/UnivariateStatistic.class,org/apache/commons/math/stat/descriptive/UnivariateStatistic\$*.class,org/apache/commons/math/stat/descriptive/moment/FirstMoment.class,org/apache/commons/math/stat/descriptive/moment/FirstMoment\$*.class,org/apache/commons/math/stat/descriptive/moment/GeometricMean.class,org/apache/commons/math/stat/descriptive/moment/GeometricMean\$*.class,org/apache/commons/math/stat/descriptive/moment/Mean.class,org/apache/commons/math/stat/descriptive/moment/Mean\$*.class,org/apache/commons/math/stat/descriptive/moment/SecondMoment.class,org/apache/commons/math/stat/descriptive/moment/SecondMoment\$*.class,org/apache/commons/math/stat/descriptive/moment/Variance.class,org/apache/commons/math/stat/descriptive/moment/Variance\$*.class,org/apache/commons/math/stat/descriptive/rank/Max.class,org/apache/commons/math/stat/descriptive/rank/Max\$*.class,org/apache/commons/math/stat/descriptive/rank/Min.class,org/apache/commons/math/stat/descriptive/rank/Min\$*.class,org/apache/commons/math/stat/descriptive/summary/Sum.class,org/apache/commons/math/stat/descriptive/summary/Sum\$*.class,org/apache/commons/math/stat/descriptive/summary/SumOfLogs.class,org/apache/commons/math/stat/descriptive/summary/SumOfLogs\$*.class,org/apache/commons/math/stat/descriptive/summary/SumOfSquares.class,org/apache/commons/math/stat/descriptive/summary/SumOfSquares\$*.class,org/apache/commons/math/stat/inference/ChiSquareTest.class,org/apache/commons/math/stat/inference/ChiSquareTest\$*.class,org/apache/commons/math/stat/inference/ChiSquareTestImpl.class,org/apache/commons/math/stat/inference/ChiSquareTestImpl\$*.class,org/apache/commons/math/stat/inference/TTest.class,org/apache/commons/math/stat/inference/TTest\$*.class,org/apache/commons/math/stat/inference/TTestImpl.class,org/apache/commons/math/stat/inference/TTestImpl\$*.class,org/apache/commons/math/stat/inference/TestUtils.class,org/apache/commons/math/stat/inference/TestUtils\$*.class,org/apache/commons/math/stat/inference/UnknownDistributionChiSquareTest.class,org/apache/commons/math/stat/inference/UnknownDistributionChiSquareTest\$*.class,org/apache/commons/math/util/ContinuedFraction.class,org/apache/commons/math/util/ContinuedFraction\$*.class
 d4j.classes.modified=org.apache.commons.math.stat.inference.ChiSquareTestImpl
 d4j.classes.relevant=org.apache.commons.math.analysis.UnivariateRealFunction,org.apache.commons.math.ConvergenceException,org.apache.commons.math.distribution.AbstractContinuousDistribution,org.apache.commons.math.distribution.AbstractDistribution,org.apache.commons.math.distribution.ChiSquaredDistribution,org.apache.commons.math.distribution.ChiSquaredDistributionImpl,org.apache.commons.math.distribution.ContinuousDistribution,org.apache.commons.math.distribution.Distribution,org.apache.commons.math.distribution.GammaDistribution,org.apache.commons.math.distribution.GammaDistributionImpl,org.apache.commons.math.distribution.TDistribution,org.apache.commons.math.distribution.TDistributionImpl,org.apache.commons.math.MathException,org.apache.commons.math.MaxIterationsExceededException,org.apache.commons.math.special.Gamma,org.apache.commons.math.stat.descriptive.AbstractStorelessUnivariateStatistic,org.apache.commons.math.stat.descriptive.AbstractUnivariateStatistic,org.apache.commons.math.stat.descriptive.moment.FirstMoment,org.apache.commons.math.stat.descriptive.moment.GeometricMean,org.apache.commons.math.stat.descriptive.moment.Mean,org.apache.commons.math.stat.descriptive.moment.SecondMoment,org.apache.commons.math.stat.descriptive.moment.Variance,org.apache.commons.math.stat.descriptive.rank.Max,org.apache.commons.math.stat.descriptive.rank.Min,org.apache.commons.math.stat.descriptive.StatisticalSummary,org.apache.commons.math.stat.descriptive.StorelessUnivariateStatistic,org.apache.commons.math.stat.descriptive.summary.Sum,org.apache.commons.math.stat.descriptive.summary.SumOfLogs,org.apache.commons.math.stat.descriptive.summary.SumOfSquares,org.apache.commons.math.stat.descriptive.SummaryStatistics,org.apache.commons.math.stat.descriptive.SummaryStatisticsImpl,org.apache.commons.math.stat.descriptive.UnivariateStatistic,org.apache.commons.math.stat.inference.ChiSquareTest,org.apache.commons.math.stat.inference.ChiSquareTestImpl,org.apache.commons.math.stat.inference.TestUtils,org.apache.commons.math.stat.inference.TTest,org.apache.commons.math.stat.inference.TTestImpl,org.apache.commons.math.stat.inference.UnknownDistributionChiSquareTest,org.apache.commons.math.util.ContinuedFraction
 d4j.dir.src.classes=src/java
diff --git a/src/test/org/apache/commons/math/stat/FrequencyTest.java b/src/test/org/apache/commons/math/stat/FrequencyTest.java
index 7aaca0b..beb3959 100644
--- a/src/test/org/apache/commons/math/stat/FrequencyTest.java
+++ b/src/test/org/apache/commons/math/stat/FrequencyTest.java
@@ -234,5 +234,19 @@ public final class FrequencyTest extends TestCase {
             assertTrue(it.next() instanceof Long);
         }     
     }
+    public void testAddNonComparable(){
+        try {
+            f.addValue(new Object()); // This was OK
+            fail("Expected ClassCastException");
+        } catch (ClassCastException expected) {
+        }
+        f.clear();
+        f.addValue(1);
+        try {
+            f.addValue(new Object());
+            fail("Expected ClassCastException"); // Previously would have been IllegalArgument
+        } catch (ClassCastException expected) {
+        }
+    }
 }
 
